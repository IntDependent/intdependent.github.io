<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credits Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Reset & Base */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: "Poppins", sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            background: linear-gradient(135deg, #1e1e2f, #2b2b45);
            animation: bgMove 20s linear infinite;
            color: #fff;
        }

        /* Background animation */
        @keyframes bgMove {
            0% {background-position: 0% 0%;}
            50% {background-position: 100% 100%;}
            100% {background-position: 0% 0%;}
        }
        body {
            background-size: 200% 200%;
        }

        /* Calculator card */
        .calculator {
            background: rgba(28,28,43,0.95);
            border-radius: 20px;
            padding: 32px;
            width: 800px;
            max-width: 100%;
            box-shadow: 0 25px 50px rgba(0,0,0,0.6);
            display: flex;
            flex-direction: column;
            gap: 18px;
            animation: fadeIn 1s ease forwards;
        }

        /* Fade-in effect */
        @keyframes fadeIn {
            0% {opacity: 0; transform: translateY(-30px);}
            100% {opacity: 1; transform: translateY(0);}
        }

        .calculator h2 {
            text-align: center;
            font-weight: 700;
            letter-spacing: 0.5px;
            margin-bottom: 20px;
            font-size: 2rem;
            background: linear-gradient(90deg, #7c8cff, #5b6bff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        /* Form grid layout for better organization */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        /* Input fields */
        .field {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .field label {
            font-size: 14px;
            font-weight: 600;
            opacity: 0.9;
        }

        .field input[type="number"] {
            padding: 14px;
            border-radius: 12px;
            border: none;
            background: #2a2a40;
            color: #fff;
            font-size: 14px;
            outline: none;
            transition: 0.3s ease, box-shadow 0.3s ease;
        }

        .field input[type="number"]:focus {
            box-shadow: 0 0 12px #7c8cff88;
            transform: scale(1.02);
        }

        /* Checkboxes section */
        .checkbox-section {
            grid-column: span 2; /* Span across columns on wider screens */
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .checkboxes {
            display: flex;
            gap: 25px;
        }

        .checkboxes label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .checkboxes label:hover {
            color: #7c8cff;
        }

        .checkboxes input {
            accent-color: #7c8cff;
            cursor: pointer;
            width: 20px;
            height: 20px;
            border-radius: 4px; /* Slight rounding for modern look */
        }

        /* Button container for alignment */
        .button-container {
            display: flex;
            gap: 10px;
        }

        button {
            flex: 1;
            padding: 16px;
            border-radius: 14px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            background: linear-gradient(135deg, #7c8cff, #5b6bff);
            color: #fff;
            transition: transform 0.15s ease, box-shadow 0.2s ease;
        }

        button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 25px rgba(124,140,255,0.5);
        }

        button.reset {
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
        }

        button.reset:hover {
            box-shadow: 0 10px 25px rgba(255,107,107,0.5);
        }

        /* Results textarea */
        textarea {
            margin-top: 16px;
            width: 100%;
            height: 300px;
            resize: vertical; /* Allow vertical resize for usability */
            padding: 14px;
            border-radius: 14px;
            border: none;
            outline: none;
            background: #2a2a40;
            color: #ffffffcc;
            font-size: 14px;
            line-height: 1.5;
            overflow-y: auto;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        textarea:focus {
            transform: scale(1.01);
            box-shadow: 0 0 15px #7c8cff66;
        }

        /* Scrollbar styling */
        textarea::-webkit-scrollbar {
            width: 8px;
        }

        textarea::-webkit-scrollbar-track {
            background: #1c1c2b;
        }

        textarea::-webkit-scrollbar-thumb {
            background-color: #7c8cff;
            border-radius: 4px;
        }

        /* Media query for responsiveness */
        @media (max-width: 600px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            .checkbox-section {
                grid-column: span 1;
            }
            .checkboxes {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>

<div class="calculator">
    <h2>Credits Calculator</h2>

    <div class="form-grid">
        <div class="field">
            <label for="X">Current Credits</label>
            <input type="number" id="X" placeholder="Enter current credits" value="0">
        </div>

        <div class="field">
            <label for="Y">Target Credits</label>
            <input type="number" id="Y" placeholder="Enter target credits" value="14303">
        </div>

        <div class="checkbox-section">
            <label>Options</label>
            <div class="checkboxes">
                <label>
                    <input type="checkbox" id="TOT">
                    Totem
                </label>
                <label>
                    <input type="checkbox" id="Fetish">
                    Nearsight
                </label>
            </div>
        </div>
    </div>

    <div class="button-container">
        <button onclick="f()">Calculate</button>
        <button onclick="r()">Reset</button>
    </div>

    <textarea id="RES" placeholder="Results will appear here..." readonly></textarea>
</div>

<script>
var difficulties = ["Free Climber", "Average Climber", "True Climber"];
var mods = ["No Mods", "Downpour", "Downpour + Grip", "Downpour + Grip + Crumbles", "All mods"];
var maps = ["Forsaken Crypt", "Serenity Rest", "Dustreach Chasm", "Rattlebone Rock", "Cliffside Mineshaft",
"Towering Oasis", "Dunefall Shrine", "Branchline Stockyard", "Skyline Hill", "Ruined Skyscraper",
"Willowback Rise", "Training Grounds", "Pebbletop", "Flatrock Crest", "Climber's Ascension",
"Stoneveil Peak", "Mount Solkara", "Cliffside Lunara", "Seaside Cliff", "Echo Hollow",
"Mount Virethorn", "Treetop Uprise", "Shimmering Ridge", "Ravenous Ravine", "Pebbletown",
"Volcanic Ascent", "Point Blue", "Tempest Cliffside", "Heaven Piercing Highrise", "Snowveil",
"Highland Cliffside", "Briar Heights", "Frozen Pillar", "Iced Ravine Trail", "Corroded Lookout",
"Rusted Railways", "Cliff Westir"];
var rewards = [
[[1540],[2860],[4400,7700,11550,14438,25266]],
[[327],[607],[933,1633,2449,3061,5357]],
[[835],[1551],[2385,4174,6261,7826,13694]],
[[308],[571],[878,1537,2305,2881,5041]],
[[503],[933],[1435,2511,3766,4707,8237]],
[[220],[407],[626,1096,1643,2054,3595]],
[[770],[1430],[2200,3850,5775,7219,12633]],
[[77],[142],[218,382,572,715,1251]],
[[98],[181],[278,486,728,910,1592]],
[[1348],[2503],[3851,6738,10107,12633,22108]],
[[121],[224],[344,601,901,1127,1971]],
[[58],[108],[165,289,434,542,948]],
[[58],[108],[165,289,434,542,948]],
[[87],[161],[247,432,647,809,1415]],
[[253],[470],[722,1263,1895,2368,4144]],
[[146],[271],[416,728,1092,1365,2388]],
[[631],[1172],[1802,3154,4730,5913,10347]],
[[347],[644],[991,1733,2599,3249,5685]],
[[271],[502],[773,1352,2028,2534,4435]],
[[578],[1073],[1651,2888,4332,5415,9475]],
[[236],[438],[674,1179,1768,2209,3866]],
[[174],[322],[496,867,1300,1625,2843]],
[[133],[246],[379,663,994,1242,2173]],
[[715],[1328],[2042,3573,5360,6700,11724]],
[[16],[29],[44,77,116,145,253]],
[[3080],[5720],[8800,15400,23100,28875,50532]],
[[503],[933],[1435,2511,3766,4707,8237]],
[[715],[1328],[2042,3573,5360,6700,11724]],
[[2310],[4291],[6601,11551,17326,21657,37899]],
[[154],[287],[441,771,1156,1444,2527]],
[[455],[845],[1300,2274,3411,4263,7460]],
[[3850],[7150],[11000,19250,28875,36094,63165]],
[[1033],[1917],[2950,5161,7742,9677,16935]],
[[1139],[2115],[3254,5695,8542,10677,18684]],
[[715],[1328],[2042,3573,5360,6700,11724]],
[[931],[1729],[2660,4655,6982,8728,15274]],
[[1408],[2615],[4022,7038,10557,13196,23093]]];

function print(s){document.getElementById("RES").value += s + "\n";}
function flush(){document.getElementById("RES").value = "";}

function r(){
    flush()
}
function f(){
    flush();
    var x = parseInt(document.getElementById("X").value)
    var y = parseInt(document.getElementById("Y").value)
    var tot = document.getElementById("TOT").checked
    var fet = document.getElementById("Fetish").checked
    var v = y - x + 1
    if (v > 100000){print("Difference between X and Y too large (over 100k)");return;}
    if (v < 0){print("Difference between Y is smaller than X");return;}
    var res = []
    for (var i = 0; i < v; i++){res.push([]);}
    for (var i = 0; i < 3; i++){
        for (var j = 0; j < 4 + fet; j++){
            if (j > 0 && i < 2) break;
            for (var k = 0; k < maps.length; k++){
                name = maps[k] + ' ' + difficulties[i] + ' ' + mods[j]
                cash = rewards[k][i][j]
                if (tot) cash = parseInt((cash*3+1)/2)
                fname = name + ' (' + cash + ')'
                for (var e = 0; e < v; e++){
                    if(i==27 && j==(3+fet) && maps[k]=='Iced Ravine Trail'){
                        var ite=0
                        for (var c=cash; c<v; c+=cash){
                            ite+=1
                            if(e+c>=v) break
                            if(e!=0 && res[e].length==0) continue
                            if(res[e+c].length==0 || res[e+c].length>res[e].length+1) res[e+c]=res[e]+[[fname,ite]]
                        }
                    } else {
                        if(e+cash>=v) break
                        if(e!=0 && res[e].length==0) continue
                        if(res[e+cash].length==0 || res[e+cash].length>res[e].length+1) res[e+cash]=res[e]+[[fname,1]]
                    }
                }
            }
        }
    }
    try{var path=res[v-1].split(",1");} catch {print("Impossible :c"); return;}
    if(path.length){
        var pd=new Map();
        for(var i=0;i<path.length-1;i++){
            if(!pd.has(path[i])) pd.set(path[i],1)
            pd.set(path[i],pd.get(path[i])+1)
        }
        pd.forEach(function(value,key,map){print(key+' * '+value)})
    } else {print("Impossible :c");}
}
</script>

</body>
</html>
